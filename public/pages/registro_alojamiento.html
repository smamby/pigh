<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edición de Alojamiento para Hoteles</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/registro_alojamiento.css">
</head>
<body class="bg-gray-100">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <div class="bg-white rounded-2xl shadow-xl p-6 sm:p-8">

            <div class="mb-8 text-center">
                <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">Editar Alojamiento</h1>
                <p class="text-gray-500 mt-2">Modifica la información de tu establecimiento y guarda los cambios.</p>
            </div>

            <form action="/editar-alojamiento/1" method="POST" enctype="multipart/form-data" class="space-y-8">
                <input type="hidden" name="_method" value="PUT">

                <fieldset class="border-t border-gray-200 pt-6">
                    <legend class="text-lg font-semibold text-gray-700 mb-4">
                        <i class="fa-solid fa-hotel mr-2 text-blue-500"></i>Información General
                    </legend>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="nombre_aloj" class="block text-sm font-medium text-gray-700">Nombre del Alojamiento</label>
                            <input type="text" id="nombre_aloj" name="nombre_aloj" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" value="Hotel Patios de Córdoba">
                        </div>
                        <div>
                            <label for="id_tipo_alojamiento" class="block text-sm font-medium text-gray-700">Tipo de Alojamiento</label>
                            <select id="id_tipo_alojamiento" name="id_tipo_alojamiento" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                                <option value="" disabled>Selecciona un tipo</option>
                                <option value="1" selected>Hotel</option>
                                <option value="2">Resort</option>
                                <option value="3">Casa de Huéspedes</option>
                                <option value="4">ApartHotel</option>
                                <option value="5">Hostel</option>
                                <option value="6">Cabaña</option>
                            </select>
                        </div>
                        <div class="md:col-span-2">
                            <label for="descripcion" class="block text-sm font-medium text-gray-700">Descripción del Alojamiento</label>
                            <textarea id="descripcion" name="descripcion" rows="4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="Describe las características principales, el ambiente y qué hace especial a tu alojamiento.">Encantador hotel en el centro histórico.</textarea>
                        </div>
                           <div>
                            <label for="estrellas" class="block text-sm font-medium text-gray-700">Categoría (Estrellas)</label>
                            <select id="estrellas" name="estrellas" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
                                <option value="1">⭐ (1 Estrella)</option>
                                <option value="2">⭐⭐ (2 Estrellas)</option>
                                <option value="3" selected>⭐⭐⭐ (3 Estrellas)</option>
                                <option value="4">⭐⭐⭐⭐ (4 Estrellas)</option>
                                <option value="5">⭐⭐⭐⭐⭐ (5 Estrellas)</option>
                            </select>
                        </div>
                    </div>
                </fieldset>

                <fieldset class="border-t border-gray-200 pt-6">
                    <legend class="text-lg font-semibold text-gray-700 mb-4">
                        <i class="fa-solid fa-map-location-dot mr-2 text-green-500"></i>Ubicación y Contacto
                    </legend>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="md:col-span-2">
                            <label for="direccion" class="block text-sm font-medium text-gray-700">Dirección</label>
                            <input type="text" id="direccion" name="direccion" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" value="Calle San Fernando 12">
                        </div>
                        <div>
                            <label for="ciudad" class="block text-sm font-medium text-gray-700">Ciudad</label>
                            <input type="text" id="ciudad" name="ciudad" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" value="Córdoba">
                        </div>
                        <div>
                            <label for="pais" class="block text-sm font-medium text-gray-700">País</label>
                            <input type="text" id="pais" name="pais" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" value="España">
                        </div>
                        <div>
                            <label for="telefono" class="block text-sm font-medium text-gray-700">Teléfono</label>
                            <input type="tel" id="telefono" name="telefono" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="+54 11 1234-5678" value="">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700">Email de Contacto</label>
                            <input type="email" id="email" name="email" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="contacto@hotelparaiso.com" value="">
                        </div>
                    </div>
                </fieldset>

                <fieldset class="border-t border-gray-200 pt-6">
                    <legend class="text-lg font-semibold text-gray-700 mb-4">
                       <i class="fa-solid fa-list-check mr-2 text-purple-500"></i>Características y Servicios Generales
                    </legend>
                    <p class="text-sm text-gray-500 mb-4">Selecciona todas las comodidades que ofrece tu establecimiento.</p>
                    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                        <div class="relative flex items-start">
                            <div class="flex h-5 items-center"><input id="caracteristica_1" name="caracteristicas[]" value="1" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"></div>
                            <div class="ml-3 text-sm"><label for="caracteristica_1" class="font-medium text-gray-700"><i class="fa-solid fa-wifi mr-1"></i>Wi-Fi Gratuito</label></div>
                        </div>
                        <div class="relative flex items-start">
                            <div class="flex h-5 items-center"><input id="caracteristica_2" name="caracteristicas[]" value="2" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"></div>
                            <div class="ml-3 text-sm"><label for="caracteristica_2" class="font-medium text-gray-700"><i class="fa-solid fa-person-swimming mr-1"></i>Piscina</label></div>
                        </div>
                           <div class="relative flex items-start">
                            <div class="flex h-5 items-center"><input id="caracteristica_3" name="caracteristicas[]" value="3" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"></div>
                            <div class="ml-3 text-sm"><label for="caracteristica_3" class="font-medium text-gray-700"><i class="fa-solid fa-mug-saucer mr-1"></i>Desayuno Incluido</label></div>
                        </div>
                        <div class="relative flex items-start">
                            <div class="flex h-5 items-center"><input id="caracteristica_4" name="caracteristicas[]" value="4" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"></div>
                            <div class="ml-3 text-sm"><label for="caracteristica_4" class="font-medium text-gray-700"><i class="fa-solid fa-square-parking mr-1"></i>Estacionamiento</label></div>
                        </div>
                        <div class="relative flex items-start">
                            <div class="flex h-5 items-center"><input id="caracteristica_5" name="caracteristicas[]" value="5" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"></div>
                            <div class="ml-3 text-sm"><label for="caracteristica_5" class="font-medium text-gray-700"><i class="fa-solid fa-dumbbell mr-1"></i>Gimnasio</label></div>
                        </div>
                    </div>
                </fieldset>
                
                <fieldset class="border-t border-gray-200 pt-6">
                    <legend class="text-lg font-semibold text-gray-700 mb-4">
                        <i class="fa-solid fa-images mr-2 text-orange-500"></i>Imágenes del Alojamiento
                    </legend>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Imagen Principal Actual</label>
                        <div class="mt-2">
                             <img src="https://imgs.search.brave.com/myvo0I2sSkwqbQbHGHVFGw8aQk_zv4T-jR25r6-CM60/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9tZWRp/YS5pc3RvY2twaG90/by5jb20vaWQvNzAw/ODAwMzE2L2VzL2Zv/dG8vYyVDMyVCM3Jk/b2JhLWVuLWFuZGFs/dWMlQzMlQURhLWVz/cGElQzMlQjFhLmpw/Zz9zPTYxMng2MTIm/dz0wJms9MjAmYz1k/QXRkUzYtYWNaeGd1/eEc3RXFCNVVtbnRC/X1ByUDg4UkdKZDBv/TjQ0a2trPQ">
                        </div>
                    </div>
                      <div class="mt-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Sube imágenes nuevas para reemplazar o añadir</label>
                        <div id="drag-area" class="drag-area mt-1 flex justify-center rounded-lg px-6 py-10">
                            <div class="text-center">
                                <i class="fa-solid fa-cloud-arrow-up text-4xl text-gray-400"></i>
                                <div class="mt-4 flex text-sm text-gray-600">
                                    <label for="imagenes_alojamiento" class="relative cursor-pointer rounded-md bg-white font-medium text-blue-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 hover:text-blue-500">
                                        <span>Selecciona tus archivos</span>
                                        <input id="imagenes_alojamiento" name="imagenes_alojamiento[]" type="file" class="sr-only" multiple accept="image/png, image/jpeg, image/webp">
                                    </label>
                                    <p class="pl-1">o arrástralos aquí</p>
                                </div>
                                <p class="text-xs text-gray-500">PNG, JPG, WEBP hasta 10MB</p>
                            </div>
                        </div>
                         <div id="preview-container" class="mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"></div>
                    </div>
                </fieldset>

                <fieldset class="border-t border-gray-200 pt-6">
                    <legend class="text-lg font-semibold text-gray-700 mb-4">
                        <i class="fa-solid fa-bed mr-2 text-teal-500"></i>Tipos de Habitación
                    </legend>
                    <div id="room-types-container" class="space-y-6">
                        </div>
                    <div class="mt-6">
                        <button type="button" id="add-room-type-btn" class="inline-flex items-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                            <i class="fa-solid fa-plus mr-2"></i>Añadir Otro Tipo de Habitación
                        </button>
                    </div>
                </fieldset>

                <fieldset class="border-t border-gray-200 pt-6">
                    <legend class="text-lg font-semibold text-gray-700 mb-4">
                        <i class="fa-solid fa-file-contract mr-2 text-red-500"></i>Políticas y Horarios
                    </legend>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                           <label for="check_in_hora" class="block text-sm font-medium text-gray-700">Hora de Check-in</label>
                           <input type="time" id="check_in_hora" name="check_in_hora" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" value="14:00">
                        </div>
                        <div>
                           <label for="check_out_hora" class="block text-sm font-medium text-gray-700">Hora de Check-out</label>
                           <input type="time" id="check_out_hora" name="check_out_hora" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" value="12:00">
                        </div>
                        <div class="md:col-span-2">
                            <label for="politicas" class="block text-sm font-medium text-gray-700">Políticas del Alojamiento</label>
                            <textarea id="politicas" name="politicas" rows="4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" placeholder="Detalla aquí las políticas de cancelación, pago, mascotas, etc.">Check-in flexible disponible por un suplemento. No se permiten mascotas.</textarea>
                        </div>
                    </div>
                </fieldset>

                <div class="pt-6 text-right">
                    <button type="submit" class="inline-flex justify-center rounded-lg border border-transparent bg-green-600 py-3 px-8 text-base font-semibold text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all">
                        Guardar Cambios
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <template id="room-type-template">
        <div class="room-type-item rounded-lg border border-gray-200 bg-gray-50 p-4 relative">
            <button type="button" class="remove-room-type-btn absolute top-3 right-3 text-gray-400 hover:text-red-600 transition-colors">
                <i class="fa-solid fa-xmark fa-lg"></i>
            </button>
            <h3 class="text-md font-semibold text-gray-800 mb-4">Detalle del Tipo de Habitación</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-600">Nombre del Tipo</label>
                    <input type="text" name="nombre" required class="mt-1 block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="Ej: Suite Deluxe">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-600">Cap. Adultos</label>
                    <input type="number" name="capacidad_adultos" required min="1" class="mt-1 block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="2">
                </div>
                 <div>
                    <label class="block text-sm font-medium text-gray-600">Cap. Menores</label>
                    <input type="number" name="capacidad_menores" min="0" class="mt-1 block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="1">
                </div>
                 <div>
                    <label class="block text-sm font-medium text-gray-600">Precio Base (noche)</label>
                    <input type="number" name="precio_base" required min="0" step="0.01" class="mt-1 block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="120.00">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-600">Nº de habitaciones de este tipo</label>
                    <input type="number" name="cantidad_total" required min="1" class="mt-1 block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="10">
                </div>
                <div class="sm:col-span-2 lg:col-span-3">
                    <label class="block text-sm font-medium text-gray-600">Descripción / Notas</label>
                    <input type="text" name="descripcion" class="mt-1 block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="Ej: Con vista al mar y balcón privado">
                </div>
            </div>
        </div>
    </template>

    <script src="../js/registro_alojamiento.js"></script>

</body>
</html>